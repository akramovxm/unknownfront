<app-progress-bar [loading]="meLoading()"/>
<app-container>
    <form [formGroup]="form" (ngSubmit)="submit()">
        <mat-form-field appearance="outline">
            <mat-label>{{ 'FIRST_NAME' | translate }}</mat-label>
            <input matInput required type="text" formControlName="firstName" trim="blur" name="firstName"/>
            <mat-error *ngIf="firstNameError">{{ firstNameError }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>{{ 'LAST_NAME' | translate }}</mat-label>
            <input matInput required type="text" formControlName="lastName" trim="blur" name="lastName"/>
            <mat-error *ngIf="lastNameError">{{ lastNameError }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>{{ 'PHONE_NUMBER' | translate }}</mat-label>
            <input matInput type="text" placeholder="+998 " prefix="+998 " mask="00 000 00 00"
                   formControlName="phoneNumber" name="phoneNumber"/>
            <mat-error *ngIf="phoneNumberError">{{ phoneNumberError }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>{{ 'BIRTH_DATE' | translate }}</mat-label>
            <input matInput [matDatepicker]="picker" placeholder="dd/MM/yyyy" formControlName="birthDate"
                   name="birthDate">
            <mat-error *ngIf="birthDateError">{{ birthDateError }}</mat-error>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker [touchUi]="boService.max425"></mat-datepicker>
        </mat-form-field>

        <div class="update-container">
            <a mat-button routerLink="/admin/settings/update-password">
                <mat-icon>password</mat-icon>
                Update password
            </a>
        </div>

        <div class="form-button">
            <button mat-flat-button
                    [disabled]="loading()"
            >
                <mat-icon>
                    @if (loading()) {
                        <app-button-progress-spinner/>
                    } @else {
                        save
                    }
                </mat-icon>
                {{ 'SAVE' | translate }}
            </button>
        </div>
    </form>
</app-container>